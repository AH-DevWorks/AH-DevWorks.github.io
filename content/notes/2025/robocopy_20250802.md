---
Title: 用 Robocopy 備份資料夾
Date: 2025-08-02
Tags: ["windows", "backup", "robocopy", "tips"]
Description: "用 Robocopy 進行快速資料備份，跳過不需要複製的檔案或資料夾"
draft: false
---

#### 目錄 Table of Contents
* **[從備份這件事談起](#從備份這件事談起starting-from-backup)**
* **[Robocopy 是什麼？](#robocopy-是什麼-what-is-robocopy)**
* **[指令怎麼用？](#指令怎麼用-how-to-use-it)**
* **[延伸參考](#延伸參考references)**

---

## 從備份這件事談起　Starting from Backup
> 課程結訓後，要把中心發的筆電還回去。各種檔案、資料夾都要備份到外接 SSD。</br>
但資料夾裡除了真正需要保留的內容，也摻雜了很多其實根本不需要備份的東西，例如：
* `.venv/`：Python 虛擬環境，可隨時重建
* `__pycache__/`：快取用資料夾，完全不需要
* `.git/`：已經推到 GitHub 的版本控制資料
* `*.pyc`、`*.log`、`*.tmp`：執行中產生的暫存檔、記錄檔
> 如果是傳統手動copy-paste的方式，容易把上面那類型的檔案跟資料夾也全複製，備份要花的時間跟空間就會大幅提昇。前幾天聽坐在後面的同學說，他檔案傳了一整個早上才完成 10% ，八成就是有一堆這種資料吧我猜。</br>

要是跟我一樣不想手動篩選檔案，也不想多安裝什麼檔案管理工具或是寫一堆 script，系統內建的 `Robocopy` 就是個好方法 —— 一行指令就能解決</br>

---

## Robocopy 是什麼？ What is Robocopy
+ `Robocopy`（Robust File Copy）是 Windows 內建的檔案複製工具，全名是 **Robust File Copy for Windows**
+ 比起一般的複製（Copy 或拖曳操作），它具備更多進階功能，例如：
  * 支援大量檔案與深層資料夾結構
  * 可以指定排除某些檔案或資料夾
  * 可以做增量備份（只複製有異動的內容）
  * 遇到錯誤時不會整個中斷

> Robocopy 是指令列工具，可在 PowerShell 或 CMD 中執行，無需額外安裝。每個 Windows 系統基本上都有內建。

---

## 指令怎麼用？ How to Use It
0. 怎麼開 PowerShell？
    + 按下鍵盤上的 Windows 鍵，輸入 PowerShell
    + 點擊出現的「Windows PowerShell」
    + 視窗打開後，就可以貼上或輸入 Robocopy 指令
    + 命令提示字元（CMD）也可以，不一定要 PowerShell，可依自己喜好挑選
1. 輸入相關指令來執行。以下是我實際用的 Robocopy 指令，供參考：
```powershell
Robocopy "C:\Project" "E:\ssd-Backup" /E /XD ".venv" "__pycache__" ".git" /XF "*.pyc" "*.log" "*.tmp"
```
### 指令說明
| 參數                | 說明                                              |
| ----------------- | ----------------------------------------------- |
| `"C:\Project"`    | 原始資料夾位置，可自行替換    |
| `"E:\ssd-Backup"` | 備份目標資料夾                                         |
| `/E`              | 包含所有子資料夾（即使是空的）                                 |
| `/XD`             | 排除指定資料夾，後面接的就是不想要複製的項目，如：`.venv`、`__pycache__`、`.git` |
| `/XF`             | 排除指定檔案（Files）：`.pyc`、`.log`、`.tmp` 等           |
> 簡單來說，上面做的事情就是： *把 C:\Project 裡的所有檔案＆資料夾，複製到 E:\ssd-Backup ，但是如果碰到像是「.venv」這種檔名的資料夾，以及像是「.pyc」這種名稱的檔案，就跳過，不複製。* </br>

+ **建議先加上 `/L` 參數進行 dry-run**：預覽實際執行時，會備份哪些內容。實際跑起來之前先檢查，減少co錯檔案的機率。確認沒問題之後才把 /L 拿掉，再enter實際開始執行。
```powershell
Robocopy "C:\Project" "E:\ssd-Backup" /E /XD ".venv" "__pycache__" ".git" /XF "*.pyc" "*.log" "*.tmp" /L
```

---

## 延伸參考　References

* 微軟官方文件：[Robocopy - Microsoft Docs](https://learn.microsoft.com/zh-tw/windows-server/administration/windows-commands/robocopy)
* Robocopy 指令說明整理：[SS64 Robocopy](https://ss64.com/nt/robocopy.html)

---

有時候一個小工具 / 指令就能省去大量手動操作的時間。</br>
希望這個 Robocopy 小技巧也對大家有幫助。